<!DOCTYPE html>
<html lang="en">
    <head>
        <meta charset="UTF-8" />
        <meta name="viewport" content="width=device-width, initial-scale=1.0"/>
        <meta name="description" content="Lab02.3"/>
        <meta name= "keywords" content="HTML, CSS, JavaScript"/>
        <meta name="author" content="Pham Hoang Chau Anh, Nguyen Trung Kien"/>
        <script src="https://d3js.org/d3.v5.min.js" crossorigin="anonymous"></script>
        <title>Lab02.4</title>
    </head>

    <body>
        <h1>Lab02.4</h1>
        
        <script>
            const w=700;
            const h=300;
            var svg = d3.select("body")
                        .append("svg")
                        .attr("width", w)
                        .attr("height", h);


        function Barchart(data) {
                svg.selectAll("rect")
                .data(data)
                .enter()
                .append("rect")
                .attr("x", function(d, i){
                return i * 21 + 42 * Math.floor(i/2);
                })
                .attr("y", function(d){
                    
                    return h - d.wombats - 100;
                })
                .attr("width", 20)
                .attr("height", function(d, i){
                    return d.wombats + 20;
                })
                .attr("fill", "darkslateblue");


                svg.selectAll("text")
                .data(data)
                .enter()
                .append("text")
                .attr("x", function(d, i){
                    return 4 + i * 21 + 42 * Math.floor(i/2);
                })
                .attr("y", function(d){
                    return h - d.wombats;
                })
                .attr("font-family", "sans-serif")
                .attr("fill", "white")
                .attr("font-size", "11px")
                .text(function(d){
                    return d.wombats;
                });

        }

         d3.csv("./csv/data.csv").then(function(data) {
        var wombatSightings = data;
        Barchart(wombatSightings);
        
        })
    
      
        




        </script>
    </body>
    <footer>COS30045: Data Visualization</footer>
</html>